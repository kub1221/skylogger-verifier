# ☁️ Sky Logger Verifier

このリポジトリは **Sky Logger App** によって生成された  
ログとハッシュ値を第三者が検証できるように設計された  
**公開検証アーカイブ**です。  

---

## 📸 Sky Logger の目的

Sky Logger は  
> 「**いつ・どこで・誰が撮影した映像か**」  
> 「**その映像がデジタル的にも物理的にも改ざんされていないか**」  
を検証可能にするためのシステムです。

本リポジトリでは、撮影時に生成されたログ情報を  
**Firebase Firestore（原本）** と  
**GitHub（公開アーカイブ）** に二重保存し、  
改ざんがないことを第三者が独立して確認できます。

---

## 🔍 物理的署名（Physical Verification Layer）

Sky Logger の最大の特徴は、  
**App が生成した QR コードを撮影用カメラが実際に撮影すること**です。

この行為によって：

1. QR コードに含まれる  
   UUID・位置情報・時刻・ハッシュ が「アプリ署名」として生成される。  
2. その QR コードが **映像フレーム内に物理的に記録される**。  
3. 同時に Firestore と GitHub に同一ハッシュが記録される。

結果として、  
> 🔗 「ログ（クラウド）」と「映像（物理）」が直接結びつき、  
> **撮影行為そのものがデジタル署名になる**  
という構造が成立します。

これにより「QRが映り込んでいる映像＝当時アプリが発行した署名ログ」として、  
撮影の真実性が**視覚的にも暗号学的にも証明**されます。

---

## ⚙️ ハッシュと二重記録の仕組み

1️⃣ 撮影時に App が UUID・時刻・位置情報をまとめ、SHA-256 ハッシュを生成  
2️⃣ そのハッシュを GitHub の `hashes/` に自動アップロード  
3️⃣ 同時に Firestore にも同一のログを記録  
4️⃣ どちらか一方が改ざんされても、照合時に「不一致」として検出される  

この二重記録により、  
**撮影時点で生成されたログが後から改変されていない**ことを保証します。

---

## 🔗 構成

| ページ/フォルダ | 役割 |
|------------------|------|
| [`verify.html`](verify.html) | QRコードから開く、撮影ログの内容確認ページ |
| [`firestore_viewer.html`](firestore_viewer.html) | FirestoreとGitHubのログ整合性を自動検証 |
| [`hashes/`](hashes/) | 公開ハッシュ原本フォルダ（各ログ1ファイル） |
| [`README.md`](README.md) | 仕組みの説明・検証手順・信頼モデル |

---

## 🧾 検証手順（第三者向け）

1️⃣ 撮影映像に映る QR コードを読み取る → `verify.html` が開く  
2️⃣ 表示された UUID・位置・時刻・ハッシュを確認  
3️⃣ ページ下のリンクから `firestore_viewer.html` へ移動  
4️⃣ Firestore と GitHub 上の同一 `videoId` のハッシュが一致することを確認  
5️⃣ 必要に応じて `hashes/{videoId}.txt` を開き、原本ハッシュを直接確認  
6️⃣ 一致すれば「改ざんなし」と判定できる  

※ 専門家は必要に応じてローカルで SHA-256 を再計算しても可。  

---

## 🧠 信頼モデル（3層構造）

| 層 | 役割 | 内容 |
|----|------|------|
| ① 物理層 | カメラでQRを撮影 | 「現実にその瞬間が存在した」証拠（光学的署名） |
| ② デジタル層 | Firestore & GitHub | 「改ざんされていない」証拠（二重署名） |
| ③ 検証層 | verify.html & firestore_viewer.html | 誰でも検証できる透明性（公開検証） |

これらが連携することで、  
「その映像が、**特定の時間・場所で実際に撮影された現実の映像である**」  
ことを技術的に保証します。

---

## 🔒 信頼の確立

Sky Logger の証明モデルは以下の3点で成立します。

1. **App署名（UUID・緯度経度・時刻・ハッシュ）**  
   → Firestore & GitHub による暗号的証明  
2. **カメラ署名（QRコードが映り込む映像）**  
   → 物理的・光学的証跡  
3. **公開署名（誰でも照合可能）**  
   → 改ざん不能な第三者検証モデル  

---

© 2025 **Sky Logger Project**  
Maintained by **kub1221**  
📍 [https://kub1221.github.io/skylogger-verifier/](https://kub1221.github.io/skylogger-verifier/)
